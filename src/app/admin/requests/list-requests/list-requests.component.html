<div class="page-content">

  <h1>Listă cereri</h1>

  <div fxLayout="column" fxLayoutGap="20px">
    <mat-card *ngFor="let request of requests">
      <mat-card-subtitle>{{ request.name }} / {{ request.job_title }} / {{ request.medical_unit_name }}
      </mat-card-subtitle>
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="0px">
          <div style="width: 300px;">
            <h3>Persoana</h3>
            <p>
              <strong>Nume: </strong>{{ request.name }}<br />
              <strong>Funcție: </strong>{{ request.job_title }}<br />
              <strong>Telefon: </strong>{{ request.phone_number }}<br />
            </p>
            <h3>Unitatea medicală</h3>
            <p>
              <strong>Nume: </strong>{{ request.medical_unit_name }}<br />
              <strong>Tip:
              </strong>{{ dataService.getMetadataLabel('medical_unit_types', request.medical_unit_type_id) }}<br />
            </p>
          </div>
          <div style="flex-grow: 1;">
            <h3>Nevoi</h3>
            <p></p>
            <h3>Alte informații</h3>
            <p>{{ request.extra_info }}</p>
          </div>
          <div style="width: 200px;">
            <h3>Voluntar</h3>
            <p *ngIf="request.assigned_user"><strong>Asignat: </strong>{{ request.assigned_user.name }}</p>
            <button mat-button color="primary" (click)="onAssign(request.id)">Preia
              cererea</button>

            <div class="actions">
              <a mat-button color="primary" [routerLink]="['/', 'admin', 'request', request.id]">edit</a>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
